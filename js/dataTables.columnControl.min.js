/*! ColumnControl 1.0.7
 * Copyright (c) SpryMedia Ltd - datatables.net/license
 *
 * SVG icons: ISC License
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT).
 * All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 */
(n=>{var o,r;"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?(o=require("jquery"),r=function(t,e){e.fn.dataTable||require("datatables.net")(t,e)},"undefined"==typeof window?module.exports=function(t,e){return t=t||window,e=e||o(t),r(t,e),n(e,0,t.document)}:(r(window,o),module.exports=n(o,window,window.document))):n(jQuery,window,document)})(function(t,R,d){var y=t.fn.dataTable;function x(t,e,n,o){void 0===e&&(e=[]),void 0===n&&(n=null),void 0===o&&(o=[]);var r=d.createElement(t);return i(r,e),n&&(r.innerHTML=n),o.forEach(function(t){r.appendChild(t)}),r}function i(e,t){t&&(t=Array.isArray(t)?t:[t]).forEach(function(t){e&&t&&e.classList.add(t)})}function e(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">'+t+"</svg>"}var c={chevronRight:e('<path d="m9 18 6-6-6-6"/>'),columns:e('<rect width="18" height="18" x="3" y="3" rx="2"/><path d="M9 3v18"/><path d="M15 3v18"/>'),contains:e('<path d="M10 3h4v18h-4z"/><path d="M18 8h3v9h-3"/><path d="M6 17H3V8h3"/>'),empty:e('<circle cx="12" cy="12" r="10"/>'),ends:e('<path d="M21 3h-4v18h4z"/><path d="M13 8H3v9h10"/>'),equal:e('<line x1="5" x2="19" y1="9" y2="9"/><line x1="5" x2="19" y1="15" y2="15"/>'),greater:e('<path d="m9 18 6-6-6-6"/>'),greaterOrEqual:e('<path d="m9 16 6-6-6-6"/><path d="m9 21 6-6"/>'),less:e('<path d="m15 18-6-6 6-6"/>'),lessOrEqual:e('<path d="m15 16-6-6 6-6"/><path d="m15 21-6-6"/>'),menu:e('<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>'),move:e('<line x1="12" x2="12" y1="3" y2="21"/><polyline points="8 8 4 12 8 16"/><polyline points="16 16 20 12 16 8"/>'),moveLeft:e('<path d="m9 6-6 6 6 6"/><path d="M3 12h14"/><path d="M21 19V5"/>'),moveRight:e('<path d="M3 5v14"/><path d="M21 12H7"/><path d="m15 18 6-6-6-6"/>'),notContains:e('<path d="M15 4 9 20"/><path d="M3 8h18v9H3z"/>'),notEmpty:e('<circle cx="12" cy="12" r="10"/><line x1="9" x2="15" y1="15" y2="9"/>'),notEqual:e('<path d="M5 9h14"/><path d="M5 15h14"/><path d="M15 5 9 19"/>'),orderAddAsc:e('<path d="M17 21v-8"/><path d="M3 4h6"/><path d="M3 8h9"/><path d="M3 12h10"/><path d="M13 17h8"/>'),orderAddDesc:e('<path d="M17 21v-8"/><path d="M3 4h12"/><path d="M3 8h9"/><path d="M3 12h6"/><path d="M13 17h8"/>'),orderAsc:e('<path d="m3 8 4-4 4 4"/><path d="M7 4v16"/><path d="M11 12h4"/><path d="M11 16h7"/><path d="M11 20h10"/>'),orderClear:e('<path d="m21 21-8-8"/><path d="M3 4h12"/><path d="M3 8h9"/><path d="M3 12h6"/><path d="m13 21 8-8"/>'),orderDesc:e('<path d="m3 16 4 4 4-4"/><path d="M7 20V4"/><path d="M11 4h10"/><path d="M11 8h7"/><path d="M11 12h4"/>'),orderRemove:e('<path d="M3 4h12"/><path d="M3 8h9"/><path d="M3 12h6"/><path d="M13 17h8"/>'),orderNone:e('<path d="m3 8 4-4 4 4"/><path d="m11 16-4 4-4-4"/><path d="M7 4v16"/><path d="M15 8h6"/><path d="M15 16h6"/><path d="M13 12h8"/>'),search:e('<circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/>'),searchClear:e('<path d="m13.5 8.5-5 5"/><path d="m8.5 8.5 5 5"/><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/>'),starts:e('<path d="M3 3h4v18H3z"/><path d="M11 8h10v9H11"/>'),tick:e('<path d="M20 6 9 17l-5-5"/>'),x:e('<path d="M18 6 6 18"/><path d="m6 6 12 12"/>')};function a(t,e){return e.closest("div.dtfh-floatingparent")||t.table().container()}function u(t,e,n){var o=n.closest("div.dt-column-header"),e=a(e,n),o=getComputedStyle(o),r=t.offsetWidth,i=((t,e)=>{for(var n=0,o=0;e&&e!==t&&e!==d.body;)n+=e.offsetTop,o+=e.offsetLeft,e.scrollTop&&(o-=e.scrollTop),e.scrollLeft&&(o-=e.scrollLeft),e=e.offsetParent;return{top:n,left:o}})(e,n),s=i.top+n.offsetHeight,o="row-reverse"===o.flexDirection?i.left:i.left-r+n.offsetWidth,i=e.offsetWidth;i<o+r&&(o-=o+r-i),o<0&&(o=0),t.style.top=s+"px",t.style.left=o+"px"}function h(n,t,e){function o(t){var e;n._shown?t.target===n||n.contains(t.target)||(e=d.querySelector("div.dt-datetime"))&&(t.target===e||e.contains(t.target))||(n._close(),d.body.removeEventListener("click",o)):d.body.removeEventListener("click",o)}var r=a(t,e.element());n._shown=!0,r.append(n),u(n,t,e.element());d.body.addEventListener("click",o)}var p={classes:{container:"dtcc-dropdown",liner:"dtcc-dropdown-liner"},defaults:{className:"dropdown",content:[],icon:"menu",text:"More..."},init:function(n){var o=this.dt(),r=x("div",p.classes.container,"",[x("div",p.classes.liner)]),t=(r._shown=!1,r._close=function(){r.remove(),r._shown=!1},r.setAttribute("role","dialog"),r.setAttribute("aria-label",o.i18n("columnControl.dropdown",n.text)),o.on("fixedheader-mode",function(){r._shown&&h(r,o,n._parents?n._parents[0]:i)}),r.childNodes[0]),i=new f(o,this).text(o.i18n("columnControl.dropdown",n.text)).icon(n.icon).className(n.className).dropdownDisplay(t).handler(function(t){var e;t._closed&&t._closed.includes(r)||(h(r,o,n._parents?n._parents[0]:i),(e=r.querySelector("input, a, button"))&&"keypress"===t.type&&e.focus())});i.element().setAttribute("aria-haspopup","dialog");for(var e=0;e<n.content.length;e++){var s=this.resolve(n.content[e]),s=(s.config._parents||(s.config._parents=[]),s.config._parents.push(i),s.plugin.init.call(this,s.config));t.appendChild(s)}n._parents&&n._parents.length&&i.extra("chevronRight"),o.on("columns-reordered",function(){u(r,o,i.element())});function a(t){var e,n;c._shown&&(e=Array.from(c.querySelectorAll("a, button, input, select")),n=d.activeElement,"Escape"===t.key?(c._close(),l.focus()):"Tab"===t.key&&0!==e.length&&(e.includes(n)?t.shiftKey?n===e[0]&&(e[e.length-1].focus(),t.preventDefault()):n===e[e.length-1]&&(e[0].focus(),t.preventDefault()):(e[0].focus(),t.preventDefault())))}var c,l;c=r,l=i.element();return d.body.addEventListener("keydown",a),o.on("destroy",function(){d.body.removeEventListener("keydown",a)}),i.element()}},r=0,f=(n.prototype.active=function(t){return void 0===t?this._s.active:(this._s.active=t,this._checkActive(),this)},n.prototype.activeList=function(t,e){return this._s.activeList[t]=e,this._checkActive(),this},n.prototype.checkDisplay=function(){for(var t=0,e=this._dom.dropdownDisplay.childNodes,n=0;n<e.length;n++)"none"!==e[n].style.display&&t++;return 0===t&&(this._dom.button.style.display="none"),this},n.prototype.className=function(t){return this._dom.button.classList.add("dtcc-button_"+t),this},n.prototype.destroy=function(){this._s.buttonClick&&(this._dom.button.removeEventListener("click",this._s.buttonClick),this._dom.button.removeEventListener("keypress",this._s.buttonClick)),this._s.host.destroyRemove(this)},n.prototype.dropdownDisplay=function(t){return this._dom.dropdownDisplay=t,this},n.prototype.element=function(){return this._dom.button},n.prototype.enable=function(t){return this._dom.button.classList.toggle("dtcc-button_disabled",!t),this._s.enabled=t,this},n.prototype.extra=function(t){return this._dom.extra.innerHTML=t?c[t]:"",this},n.prototype.handler=function(n){function t(t){var e;void 0===(e=t)&&(e=null),d.querySelectorAll("div.dtcc-dropdown").forEach(function(t){null!==e&&t.contains(e.target)||(t._close(),e._closed||(e._closed=[]),e._closed.push(t))}),t.stopPropagation(),t.preventDefault(),o._s.enabled&&n(t)}var o=this;return this._s.buttonClick=t,this._s.namespace="dtcc-"+r++,this._dom.button.addEventListener("click",t),this._dom.button.addEventListener("keypress",t),this._s.host.destroyAdd(this),this},n.prototype.icon=function(t){return this._dom.icon.innerHTML=t?c[t]:"",this},n.prototype.text=function(t){return void 0===t?this._s.label:(this._dom.text.innerHTML=t,this._s.label=t,this._dom.button.setAttribute("aria-label",t),this)},n.prototype.value=function(t){return void 0===t?this._s.value:(this._s.value=t,this)},n.prototype._checkActive=function(){return!0===this._s.active||Object.values(this._s.activeList).includes(!0)?(this._dom.state.innerHTML=c.tick,this._dom.button.classList.add("dtcc-button_active")):(this._dom.state.innerHTML="",this._dom.button.classList.remove("dtcc-button_active")),this},n.classes={container:"dtcc-button"},n);function n(t,e){this._s={active:!1,activeList:[],buttonClick:null,dt:null,enabled:!0,host:null,label:"",namespace:"",value:null},this._s.dt=t,this._s.host=e,this._dom={button:x("button",n.classes.container),dropdownDisplay:null,extra:x("span","dtcc-button-extra"),icon:x("span","dtcc-button-icon"),state:x("span","dtcc-button-state"),text:x("span","dtcc-button-text")},this._dom.button.setAttribute("type","button"),this._dom.button.append(this._dom.icon),this._dom.button.append(this._dom.text),this._dom.button.append(this._dom.state),this._dom.button.append(this._dom.extra),this.enable(!0)}m.prototype.add=function(n,t){for(var o=this,r=(Array.isArray(n)||(n=[n]),this),e=0;e<n.length;e++)(t=>{var t=n[t],e=new f(r._s.dt,r._s.host).active(t.active||!1).handler(function(t){o._s.handler(t,e,o._s.buttons,!0),o._updateCount()}).icon(t.icon||"").text(""!==t.label?t.label:r._s.dt.i18n("columnControl.list.emptyOption","Empty")).value(t.value);""===t.label&&e.className("empty"),r._s.buttons.push(e)})(e);var i=this._s.buttons.length;return!0!==t&&void 0!==t||(this._dom.selectAllCount.innerHTML=i?"("+i+")":"",this._redraw()),this},m.prototype.button=function(t){for(var e=this._s.buttons,n=0;n<e.length;n++)if(e[n].value()===t)return e[n];return null},m.prototype.clear=function(){for(var t=0;t<this._s.buttons.length;t++)this._s.buttons[t].destroy();return this._dom.buttons.replaceChildren(),this._s.buttons.length=0,this},m.prototype.element=function(){return this._dom.container},m.prototype.handler=function(t){return this._s.handler=t,this},m.prototype.searchListener=function(t){var n=this;return t.on("cc-search-clear",function(t,e){e===n._s.host.idx()&&(n.selectNone(),n._s.handler(t,null,n._s.buttons,!1),n._s.search="",n._dom.search.value="",n._redraw(),n._updateCount())}),this},m.prototype.selectAll=function(){for(var t=0;t<this._s.buttons.length;t++)this._s.buttons[t].active(!0);return this},m.prototype.selectNone=function(){for(var t=0;t<this._s.buttons.length;t++)this._s.buttons[t].active(!1);return this},m.prototype.title=function(t){return this._dom.title.innerHTML=t,this},m.prototype.values=function(t){var e,n=[],o=this._s.buttons;if(void 0!==t){for(e=0;e<o.length;e++)t.includes(o[e].value())&&o[e].active(!0);return this._updateCount(),this}for(e=0;e<o.length;e++)o[e].active()&&n.push(o[e].value());return n},m.prototype._updateCount=function(){var t=this.values().length;this._dom.selectNoneCount.innerHTML=t?"("+t+")":""},m.prototype._redraw=function(){var t=this._s.buttons,e=this._dom.buttons,n=this._s.search.toLowerCase();e.replaceChildren();for(var o=0;o<t.length;o++){var r=t[o];n&&!r.text().toLowerCase().includes(n)||e.appendChild(r.element())}},m.classes={container:"dtcc-list",input:"dtcc-list-search"};var l=m;function m(t,e,n){function o(){s._s.search=a.search.value,s._redraw()}function r(t){s.selectAll(),s._s.handler(t,null,s._s.buttons,!0),s._updateCount()}function i(t){s.selectNone(),s._s.handler(t,null,s._s.buttons,!0),s._updateCount()}var s=this,a=(this._s={buttons:[],dt:null,handler:function(){},host:null,search:""},this._s.dt=t,this._s.host=e,this._dom={buttons:x("div","dtcc-list-buttons"),container:x("div",m.classes.container),controls:x("div","dtcc-list-controls"),title:x("div","dtcc-list-title"),selectAll:x("button","dtcc-list-selectAll",t.i18n("columnControl.list.all","Select all")),selectAllCount:x("span"),selectNone:x("button","dtcc-list-selectNone",t.i18n("columnControl.list.none","Deselect")),selectNoneCount:x("span"),search:x("input",m.classes.input)},this._dom);a.search.setAttribute("type","text"),a.container.append(a.title),a.container.append(a.controls),a.container.append(a.buttons),n.select&&(a.controls.append(a.selectAll),a.controls.append(a.selectNone),a.selectAll.append(a.selectAllCount),a.selectNone.append(a.selectNoneCount),a.selectAll.setAttribute("type","button"),a.selectNone.setAttribute("type","button"));n.search&&(a.controls.append(a.search),a.search.setAttribute("placeholder",t.i18n("columnControl.list.search","Search...")),a.search.addEventListener("input",o)),a.selectAll.addEventListener("click",r),a.selectNone.addEventListener("click",i),t.on("destroy",function(){a.selectAll.removeEventListener("click",r),a.selectNone.removeEventListener("click",i),a.search.removeEventListener("input",o)})}var o={defaults:{className:"colVis",columns:"",search:!1,select:!1,title:"Column visibility"},init:function(t){function n(){r.columns(t.columns).every(function(){i.add({active:this.visible(),label:this.title(),value:this.index()})})}var r=this.dt(),i=new l(r,this,{search:t.search,select:t.select}).title(r.i18n("columnControl.colVis",t.title)).handler(function(t,e,n){e&&e.active(!e.active()),o(n)}),o=function(t){for(var e=0;e<t.length;e++){var n=t[e],o=n.value(),o=r.column(o);n.active()&&!o.visible()?o.visible(!0):!n.active()&&o.visible()&&o.visible(!1)}};return n(),r.on("column-visibility",function(t,e,n,o){n=i.button(n);n&&n.active(o)}),r.on("columns-reordered",function(t,e){i.clear(),n()}),i.element()}},s={defaults:{className:"colVis",columns:"",search:!1,select:!1,text:"Column visibility",title:"Column visibility"},extend:function(t){return{extend:"dropdown",icon:"columns",text:this.dt().i18n("columnControl.colVisDropdown",t.text),content:[Object.assign(t,{extend:"colVis"})]}}},I={defaults:{className:"reorder",icon:"move",text:"Reorder columns"},init:function(t){var n=this,e=this.dt(),o=new f(e,this).text(e.i18n("columnControl.reorder",t.text)).icon(t.icon).className(t.className).handler(function(){var t=n.idx();0<t&&e.colReorder.move(t,t-1)});return 0===this.idx()&&o.enable(!1),e.on("columns-reordered",function(t,e){o.enable(0<n.idx())}),e.init().colReorder||new y.ColReorder(e,{}),o.element()}},H={defaults:{className:"reorderLeft",icon:"moveLeft",text:"Move column left"},init:function(t){var n=this,e=this.dt(),o=new f(e,this).text(e.i18n("columnControl.reorderLeft",t.text)).icon(t.icon).className(t.className).handler(function(){var t=n.idx();0<t&&e.colReorder.move(t,t-1)});return 0===this.idx()&&o.enable(!1),e.on("columns-reordered",function(t,e){o.enable(0<n.idx())}),o.element()}},V={defaults:{className:"reorderRight",icon:"moveRight",text:"Move column right"},init:function(t){var n=this,o=this.dt(),r=new f(o,this).text(o.i18n("columnControl.reorderRight",t.text)).icon(t.icon).className(t.className).handler(function(){var t=n.idx();t<o.columns().count()-1&&o.colReorder.move(t,t+1)});return this.idx()===o.columns().count()-1&&r.enable(!1),o.on("columns-reordered",function(t,e){r.enable(n.idx()<o.columns().count()-1)}),r.element()}},Y={defaults:{className:"order",iconAsc:"orderAsc",iconDesc:"orderDesc",iconNone:"orderNone",statusOnly:!1,text:"Toggle ordering"},init:function(o){var r=this,t=this.dt(),i=new f(t,this).text(t.i18n("columnControl.order",o.text)).icon("orderAsc").className(o.className);return o.statusOnly||t.order.listener(i.element(),y.versionCheck("2.3.2")?function(){return[r.idx()]}:this.idx(),function(){}),t.on("order",function(t,e,n){n=n.find(function(t){return t.col===r.idx()});n?"asc"===n.dir?i.active(!0).icon(o.iconAsc):"desc"===n.dir&&i.active(!0).icon(o.iconDesc):i.active(!1).icon(o.iconNone)}),i.element()}},W={defaults:{className:"orderAddAsc",icon:"orderAddAsc",text:"Add Sort Ascending"},init:function(t){var o=this,e=this.dt(),r=new f(e,this).text(e.i18n("columnControl.orderAddAsc",t.text)).icon(t.icon).className(t.className).handler(function(){e.order().push([o.idx(),"asc"]),e.draw()});return e.on("order",function(t,e,n){n=n.some(function(t){return t.col===o.idx()});r.enable(!n)}),r.element()}},B={defaults:{className:"orderAddDesc",icon:"orderAddDesc",text:"Add Sort Descending"},init:function(t){var o=this,e=this.dt(),r=new f(e,this).text(e.i18n("columnControl.orderAddDesc",t.text)).icon(t.icon).className(t.className).handler(function(){e.order().push([o.idx(),"desc"]),e.draw()});return e.on("order",function(t,e,n){n=n.some(function(t){return t.col===o.idx()});r.enable(!n)}),r.element()}},P={defaults:{className:"orderAsc",icon:"orderAsc",text:"Sort Ascending"},init:function(t){var o=this,e=this.dt(),r=new f(e,this).text(e.i18n("columnControl.orderAsc",t.text)).icon(t.icon).className(t.className).handler(function(){o.dt().order([{idx:o.idx(),dir:"asc"}]).draw()});return e.on("order",function(t,e,n){n=n.some(function(t){return t.col===o.idx()&&"asc"===t.dir});r.active(n)}),r.element()}},z={defaults:{className:"orderClear",icon:"orderClear",text:"Clear sort"},init:function(t){var e=this.dt(),o=new f(e,this).text(e.i18n("columnControl.orderClear",t.text)).icon(t.icon).className(t.className).handler(function(){e.order([]).draw()});return e.on("order",function(t,e,n){o.enable(0<n.length)}),0===e.order().length&&o.enable(!1),o.element()}},F={defaults:{className:"orderDesc",icon:"orderDesc",text:"Sort Descending"},init:function(t){var o=this,e=this.dt(),r=new f(e,this).text(e.i18n("columnControl.orderDesc",t.text)).icon(t.icon).className(t.className).handler(function(){o.dt().order([{idx:o.idx(),dir:"desc"}]).draw()});return e.on("order",function(t,e,n){n=n.some(function(t){return t.col===o.idx()&&"desc"===t.dir});r.active(n)}),r.element()}},G={defaults:{className:"orderRemove",icon:"orderRemove",text:"Remove from sort"},init:function(t){var o=this,n=this.dt(),r=new f(n,this).text(n.i18n("columnControl.orderRemove",t.text)).icon(t.icon).className(t.className).handler(function(){var t=n.order(),e=t.findIndex(function(t){return t[0]===o.idx()});t.splice(e,1),n.order(t).draw()});return n.on("order",function(t,e,n){n=n.some(function(t){return t.col===o.idx()});r.enable(n)}),r.enable(!1),r.element()}},K={defaults:{className:"order",iconAsc:"orderAsc",iconDesc:"orderDesc",iconNone:"orderNone",statusOnly:!0,text:"Sort status"},extend:function(t){return Object.assign(t,{extend:"order"})}},v=(_.prototype.addClass=function(t){return this._dom.container.classList.add(t),this},_.prototype.clear=function(){return this.set(this._dom.select.children[0].getAttribute("value"),""),this},_.prototype.clearable=function(t){return t||this._dom.clear.remove(),this},_.prototype.element=function(){return this._dom.container},_.prototype.input=function(){return this._dom.input},_.prototype.options=function(t){for(var e=this._dom.select,n=0;n<t.length;n++)e.add(new Option(t[n].label,t[n].value));return this._dom.typeIcon.innerHTML=c[t[0].value],this},_.prototype.placeholder=function(t){var e;return t&&(e=this._dt.column(this._idx).title(),this._dom.input.placeholder=t.replace("[title]",e)),this},_.prototype.runSearch=function(){var t=this._dom,e="empty"===t.select.value||"notEmpty"===t.select.value||""!==t.input.value;t.container.classList.toggle("dtcc-search_active",e),!this._search||this._lastValue===t.input.value&&this._lastType===t.select.value||(this._search(t.select.value,t.input.value,this._loadingState),this._lastValue=t.input.value,this._lastType=t.select.value)},_.prototype.search=function(t){return this._search=t,this._stateLoad(this._dt.state.loaded()),this},_.prototype.set=function(t,e){var n=this._dom;return n.input.value=e,n.select.value=t,n.typeIcon.innerHTML=c[n.select.value],this.runSearch(),this},_.prototype.title=function(t){var e;return t&&(e=this._dt.column(this._idx).title(),this._dom.title.innerHTML=t.replace("[title]",e)),this},_.prototype.titleAttr=function(t){var e;return t&&(e=this._dt.column(this._idx).title(),this._dom.input.title=t.replace("[title]",e)),this},_.prototype.type=function(t){return this._type=t,this},_.prototype._stateLoad=function(t){var e=this._dom,n=this._idx,n=null==(t=null==(t=null==t?void 0:t.columnControl)?void 0:t[n])?void 0:t.searchInput;n&&(this._loadingState=!0,e.select.value=n.logic,e.input.value=n.value,e.select.dispatchEvent(new Event("input")),this._loadingState=!1)},_.classes={container:["dtcc-content","dtcc-search"],input:"",select:""},_);function _(n,t){function e(){i.runSearch()}function o(){s.typeIcon.innerHTML=c[s.select.value],i.runSearch()}function r(){i.clear()}var i=this,s=(this._type="text",this._dt=n,this._idx=t,this._dom={clear:x("span","dtcc-search-clear",c.x),container:x("div",_.classes.container),typeIcon:x("div","dtcc-search-type-icon"),searchIcon:x("div","dtcc-search-icon",c.search),input:x("input",_.classes.input),inputs:x("div"),select:x("select",_.classes.select),title:x("div","dtcc-search-title")},this._dom),a=t;s.input.setAttribute("type","text"),s.container.append(s.title,s.inputs),s.inputs.append(s.typeIcon,s.select,s.searchIcon,s.clear,s.input);s.input.addEventListener("input",e),s.select.addEventListener("input",o),s.clear.addEventListener("click",r),n.on("destroy",function(){s.input.removeEventListener("input",e),s.select.removeEventListener("input",o),s.clear.removeEventListener("click",r)}),n.on("stateSaveParams",function(t,e,n){n.columnControl||(n.columnControl={}),n.columnControl[i._idx]||(n.columnControl[i._idx]={}),n.columnControl[i._idx].searchInput={logic:s.select.value,type:i._type,value:s.input.value}}),n.on("stateLoaded",function(t,e,n){i._stateLoad(n)}),n.on("columns-reordered",function(t,e){i._idx=n.colReorder.transpose(a,"fromOriginal")}),n.on("cc-search-clear",function(t,e){e===i._idx&&(i._loadingState=!0,i.clear(),i._loadingState=!1)})}var b={defaults:{clear:!0,placeholder:"",title:"",titleAttr:""},init:function(i){var s,a=this,c=!1,l=y.use("moment"),d=y.use("luxon"),u=this.dt(),t="columnControl.search.datetime.",h="",e=new v(u,this.idx()).type("date").addClass("dtcc-searchDateTime").clearable(i.clear).placeholder(i.placeholder).title(i.title).titleAttr(i.titleAttr).options([{label:u.i18n(t+"equal","Equals"),value:"equal"},{label:u.i18n(t+"notEqual","Does not equal"),value:"notEqual"},{label:u.i18n(t+"greater","After"),value:"greater"},{label:u.i18n(t+"less","Before"),value:"less"},{label:u.i18n(t+"empty","Empty"),value:"empty"},{label:u.i18n(t+"notEmpty","Not empty"),value:"notEmpty"}]).search(function(t,e,n){var o=u.column(a.idx()),r=""===e?"":g(s&&c?s.val():e.trim(),h,l,d);if("empty"===t)o.search.fixed("dtcc",function(t){return!t});else if("notEmpty"===t)o.search.fixed("dtcc",function(t){return!!t});else{if(""===o.search.fixed("dtcc")&&""===r)return;r?"equal"===t?o.search.fixed("dtcc",function(t){return g(t,h,l,d)==r}):"notEqual"===t?o.search.fixed("dtcc",function(t){return g(t,h,l,d)!=r}):"greater"===t?o.search.fixed("dtcc",function(t){return g(t,h,l,d)>r}):"less"===t&&o.search.fixed("dtcc",function(t){return g(t,h,l,d)<r}):o.search.fixed("dtcc","")}i._parents&&i._parents.forEach(function(t){return t.activeList(a.unique(),!!o.search.fixed("dtcc"))}),n||o.draw()});return u.ready(function(){var t=y.use("datetime");h=((t,e)=>{if(t=t.column(e).type())if("datetime"===t){var e=y.use("moment"),n=y.use("luxon");if(e)return e().creationData().locale._longDateFormat.L;if(n)return n.DateTime.fromISO("1999-08-07").toLocaleString().replace("07","dd").replace("7","d").replace("08","MM").replace("8","M").replace("1999","yyyy").replace("99","yy")}else{if(t.includes("datetime-"))return t.replace(/datetime-/g,"");if(t.includes("moment"))return t.replace(/moment-/g,"");if(t.includes("luxon"))return t.replace(/luxon-/g,"")}return"YYYY-MM-DD"})(u,a.idx()),t&&(s=new t(e.input(),{format:h,i18n:u.settings()[0].oLanguage.datetime,onChange:function(){c=!0,e.runSearch(),c=!1}}))}),e.element()}};function g(t,e,n,o){return""===t?"":t instanceof Date?t.getTime():"YYYY-MM-DD"!==e&&(n||o)?n?1e3*n(t,e).unix():o.DateTime.fromFormat(t,e).toMillis():(t=t.replace(/\//g,"-"),new Date(t).getTime())}function C(t,e){var n=t.values();t.clear();for(var o=0;o<e.length;o++)"object"==typeof e[o]?t.add({active:!1,label:e[o].label,value:e[o].value},o===e.length-1):t.add({active:!1,label:e[o],value:e[o]},o===e.length-1);n.length&&t.values(n)}function w(t,e){t=null==(e=null==(e=null==e?void 0:e.columnControl)?void 0:e[t])?void 0:e.searchList;if(t)return t}function A(t,e){var n=null==(n=t.ajax.json())?void 0:n.columnControl,t=t.column(e),o=t.name(),t=t.dataSrc();return n&&n[o]?n[o]:n&&"string"==typeof t&&n[t]?n[t]:n&&n[e]?n[e]:null}function L(t,e,n,o,r){var i=null==(i=t.ajax.json())?void 0:i.columnControl,s=[],a=A(t,n);if(a)s=a;else{if(i&&e.ajaxOnly)return void(e.hidable&&(o.element().style.display="none",e._parents)&&e._parents.forEach(function(t){return t.checkDisplay()}));for(var c={},l=t.rows({order:n}).indexes().toArray(),d=t.settings()[0],u=0;u<l.length;u++){var h=d.fastData(l[u],n,"filter"),h=null!=h?h.toString():"";c[h]||(c[h]=!0,s.push({label:d.fastData(l[u],n,e.orthogonal),value:h}))}}C(o,s),r&&o.values(r)}var E={defaults:{ajaxOnly:!0,className:"searchList",hidable:!0,options:null,orthogonal:"display",search:!0,select:!0,title:""},init:function(o){function r(e){var t=a.column(i.idx());e&&(0===e.length?t.search.fixed("dtcc-list",""):t.search.fixed("dtcc-list",function(t){return e.includes(t)}),o._parents)&&o._parents.forEach(function(t){return t.activeList(i.unique(),!!e.length)})}var i=this,s=null,a=this.dt(),c=new l(a,this,{search:o.search,select:o.select}).searchListener(a).title(a.i18n("columnControl.searchList",o.title).replace("[title]",a.column(this.idx()).title())).handler(function(t,e,n,o){e&&e.active(!e.active()),r(c.values()),o&&a.draw()});return o.options?C(c,o.options):a.ready(function(){L(a,o,i.idx(),c,s)}),a.on("xhr",function(t,e,n){a.one("draw",function(){L(a,o,i.idx(),c,s)})}),a.on("stateLoaded",function(t,e,n){n=w(i.idx(),n);n&&(c.values(n),r(n))}),a.on("stateSaveParams",function(t,e,n){var o=i.idx();n.columnControl||(n.columnControl={}),n.columnControl[o]||(n.columnControl[o]={}),n.columnControl[o].searchList=a.ready()?c.values():s}),s=w(this.idx(),a.state.loaded()),r(s),c.element()}},N={defaults:{clear:!0,placeholder:"",title:"",titleAttr:""},init:function(r){var i=this,s=this.dt(),t="columnControl.search.number.",t=new v(s,this.idx()).type("num").addClass("dtcc-searchNumber").clearable(r.clear).placeholder(r.placeholder).title(r.title).titleAttr(r.titleAttr).options([{label:s.i18n(t+"equal","Equals"),value:"equal"},{label:s.i18n(t+"notEqual","Does not equal"),value:"notEqual"},{label:s.i18n(t+"greater","Greater than"),value:"greater"},{label:s.i18n(t+"greaterOrEqual","Greater or equal"),value:"greaterOrEqual"},{label:s.i18n(t+"less","Less than"),value:"less"},{label:s.i18n(t+"lessOrEqual","Less or equal"),value:"lessOrEqual"},{label:s.i18n(t+"empty","Empty"),value:"empty"},{label:s.i18n(t+"notEmpty","Not empty"),value:"notEmpty"}]).search(function(t,e,n){var o=s.column(i.idx());if("empty"===t)o.search.fixed("dtcc",function(t){return!t});else if("notEmpty"===t)o.search.fixed("dtcc",function(t){return!!t});else{if(""===o.search.fixed("dtcc")&&""===e)return;""===e?o.search.fixed("dtcc",""):"equal"===t?o.search.fixed("dtcc",function(t){return M(t)==e}):"notEqual"===t?o.search.fixed("dtcc",function(t){return M(t)!=e}):"greater"===t?o.search.fixed("dtcc",function(t){return M(t)>e}):"greaterOrEqual"===t?o.search.fixed("dtcc",function(t){return M(t)>=e}):"less"===t?o.search.fixed("dtcc",function(t){return M(t)<e}):"lessOrEqual"===t&&o.search.fixed("dtcc",function(t){return M(t)<=e})}r._parents&&r._parents.forEach(function(t){return t.activeList(i.unique(),!!o.search.fixed("dtcc"))}),n||o.draw()});return t.input().setAttribute("inputmode","numeric"),t.input().setAttribute("pattern","[0-9]*"),t.element()}},Q=/<([^>]*>)/g,U=/['\u00A0,$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi;function M(t){var e;return 0===t||t&&"-"!==t?"number"==(e=typeof t)||"bigint"==e?t:+(t=t.replace?t.replace(Q,"").replace(U,""):t):-1/0}var D={defaults:{clear:!0,placeholder:"",title:"",titleAttr:""},init:function(r){var i=this,s=this.dt(),t="columnControl.search.text.";return new v(s,this.idx()).addClass("dtcc-searchText").clearable(r.clear).placeholder(r.placeholder).title(r.title).titleAttr(r.titleAttr).options([{label:s.i18n(t+"contains","Contains"),value:"contains"},{label:s.i18n(t+"notContains","Does not contain"),value:"notContains"},{label:s.i18n(t+"equal","Equals"),value:"equal"},{label:s.i18n(t+"notEqual","Does not equal"),value:"notEqual"},{label:s.i18n(t+"starts","Starts"),value:"starts"},{label:s.i18n(t+"ends","Ends"),value:"ends"},{label:s.i18n(t+"empty","Empty"),value:"empty"},{label:s.i18n(t+"notEmpty","Not empty"),value:"notEmpty"}]).search(function(t,e,n){var o=s.column(i.idx());if(e=e.toLowerCase(),"empty"===t)o.search.fixed("dtcc",function(t){return!t});else if("notEmpty"===t)o.search.fixed("dtcc",function(t){return!!t});else{if(""===o.search.fixed("dtcc")&&""===e)return;""===e?o.search.fixed("dtcc",""):"equal"===t?o.search.fixed("dtcc",function(t){return t.toLowerCase()==e}):"notEqual"===t?o.search.fixed("dtcc",function(t){return t.toLowerCase()!=e}):"contains"===t?o.search.fixed("dtcc",e):"notContains"===t?o.search.fixed("dtcc",function(t){return!t.toLowerCase().includes(e)}):"starts"===t?o.search.fixed("dtcc",function(t){return t.toLowerCase().startsWith(e)}):"ends"===t&&o.search.fixed("dtcc",function(t){return t.toLowerCase().endsWith(e)})}r._parents&&r._parents.forEach(function(t){return t.activeList(i.unique(),!!o.search.fixed("dtcc"))}),n||o.draw()}).element()}},o={colVis:o,colVisDropdown:s,dropdown:p,reorder:I,reorderLeft:H,reorderRight:V,order:Y,orderAddAsc:W,orderAddDesc:B,orderAsc:P,orderClear:z,orderDesc:F,orderRemove:G,orderStatus:K,search:{defaults:{allowSearchList:!1},init:function(n){function e(t){var e=A(i,s);return n.allowSearchList&&e?E.init.call(r,Object.assign({},E.defaults,n)):"date"===t||t.startsWith("datetime")?b.init.call(r,Object.assign({},b.defaults,n)):t.includes("num")?N.init.call(r,Object.assign({},N.defaults,n)):D.init.call(r,Object.assign({},D.defaults,n))}var o,r=this,i=this.dt(),s=this.idx(),t=null==(t=null==(t=null==(t=i.state.loaded())?void 0:t.columnControl)?void 0:t[s])?void 0:t.searchInput;return t?o=e(t.type):(o=d.createElement("div"),i.ready(function(){var t=i.column(s),t=e(t.type());o.replaceWith(t)})),o}},searchClear:{defaults:{className:"searchClear",icon:"searchClear",text:"Clear Search"},init:function(t){var n=this,o=this.dt(),r=new f(o,this).text(o.i18n("columnControl.searchClear",t.text)).icon(t.icon).className(t.className).handler(function(){o.column(n.idx()).ccSearchClear().draw()}).enable(!1);return o.on("draw",function(){var t=o.column(n.idx()).search.fixed("dtcc"),e=o.column(n.idx()).search.fixed("dtcc-list");r.enable(!(!t&&!e))}),r.element()}},searchDropdown:{defaults:{ajaxOnly:!0,allowSearchList:!0,className:"searchDropdown",clear:!0,columns:"",hidable:!0,options:null,orthogonal:"display",placeholder:"",search:!0,select:!0,text:"Search",title:"",titleAttr:""},extend:function(t){return{extend:"dropdown",icon:"search",text:this.dt().i18n("columnControl.searchDropdown",t.text),content:[Object.assign(t,{extend:"search"})]}}},searchDateTime:b,searchList:E,searchNumber:N,searchText:D,spacer:{defaults:{className:"dtcc-spacer",text:""},init:function(t){var e=this.dt(),e=x("div",t.className,e.i18n("columnControl.spacer",t.text));return e.setAttribute("role","separator"),e}},title:{defaults:{className:"dtcc-title",text:null},init:function(t){var e=this.dt().column(this.idx()).title(),n=null===t.text?"[title]":t.text;return x("div",t.className,n.replace("[title]",e))}}},q=(S.prototype.destroyAdd=function(t){this._s.toDestroy.push(t)},S.prototype.destroyRemove=function(t){t=this._s.toDestroy.indexOf(t);-1!==t&&this._s.toDestroy.splice(t,1)},S.prototype.dt=function(){return this._dt},S.prototype.idx=function(){return this._s.columnIdx},S.prototype.resolve=function(t){var e=null,n=null,o=null;if("string"==typeof t?(e=S.content[o=t],n=Object.assign({},null==e?void 0:e.defaults)):Array.isArray(t)?(e=S.content[o="dropdown"],n=Object.assign({},null==e?void 0:e.defaults,{content:t})):t.extend&&(o=t.extend,e=S.content[o],n=Object.assign({},null==e?void 0:e.defaults,t)),e)return e.extend?(t=e.extend.call(this,n),this.resolve(t)):{config:n,type:o,plugin:e};throw new Error("Unknown ColumnControl content type: "+o)},S.prototype.unique=function(){return this._s.unique},S.prototype._target=function(){var t,e,n=this._c.target,o=this._dt.column(this._s.columnIdx),r="header";return"number"==typeof n?t=o.header(n):(e="tfoot"!==(n=n.split(":"))[0],n=n[1]?parseInt(n[1]):0,e?t=o.header(n):(t=o.footer(n),r="footer")),t.querySelector("div.dt-column-"+r)},S.Button=f,S.CheckList=l,S.SearchInput=v,S.content=o,S.defaults={className:"",content:null,target:0},S.icons=c,S.version="1.0.7",S);function S(n,t,e){var o=this,r=(this._dom={target:null,wrapper:null},this._c={},this._s={columnIdx:null,unique:null,toDestroy:[]},this._dt=n,this._s.columnIdx=t,this._s.unique=Math.random(),t);Object.assign(this._c,S.defaults,e),this._dom.target=this._target(),e.className&&i(this._dom.target.closest("tr"),e.className),this._c.content&&(n.on("columns-reordered",function(t,e){o._s.columnIdx=n.colReorder.transpose(r,"fromOriginal")}),this._dom.wrapper=d.createElement("span"),this._dom.wrapper.classList.add("dtcc"),this._dom.target.appendChild(this._dom.wrapper),this._c.content.forEach(function(t){t=o.resolve(t),t=t.plugin.init.call(o,t.config);o._dom.wrapper.appendChild(t)}),n.on("destroy",function(){o._s.toDestroy.slice().forEach(function(t){t.destroy()}),o._dom.wrapper.remove()}))}function k(t,e){var n=q.defaults.target;if(T(e)){if(n===t)return{target:n,content:e}}else if(Array.isArray(e))for(var o=0;o<e.length;o++){var r=e[o];if(T(r)){if(n===t)return{target:n,content:r}}else if(j(r)){if(t===(void 0!==r.target?r.target:n))return r}else if(t===n)return{target:n,content:e}}else if("object"==typeof e)if(j(e)){if(t===(void 0!==e.target?e.target:n))return e}else if(t===n)return{target:n,content:e}}function O(e,t){function n(t){e.includes(t)||e.push(t)}return Array.isArray(t)?0===t.length?n(q.defaults.target):t.forEach(function(t){n(("object"==typeof t&&void 0!==t.target?t:q.defaults).target)}):"object"==typeof t&&n((void 0!==t.target?t:q.defaults).target),e}function j(t){return"object"==typeof t&&void 0!==t.target}function T(t){var e=!1;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(j(t[n])){e=!0;break}return!e}}return y.ColumnControl=q,t(d).on("i18n.dt",function(t,e){if("dt"===t.namespace){var n=new y.Api(e),t=n.table().header(),o=e.oInit.columnControl,r=q.defaults,i=[],s={};t.querySelectorAll("tr").length<=1&&null===e.titleRow&&(e.titleRow=0),O(i,o),q.defaults.content&&O(i,r),n.columns().every(function(t){var e=this.init().columnControl;O(i,e)});for(var a=0;a<i.length;a++){v=m=f=p=h=u=d=l=c=void 0;var c=s,l=i[a],d=n;if(!c[l]){var u=!0,h=0,p=("number"==typeof l?h=l:("tfoot"===(p=l.split(":"))[0]&&(u=!1),p[1]&&(h=parseInt(p[1]))),u?d.table().header():d.table().footer());if(!p.querySelectorAll("tr")[h]){var f=d.columns().count(),m=x("tr");m.setAttribute("data-dt-order","disable");for(var v=0;v<f;v++)m.appendChild(x("td"));p.appendChild(m)}c[l]=!0}}}}),t(d).on("preInit.dt",function(t,e){var a,c,l,d;"dt"===t.namespace&&(a=new y.Api(e),c=e.oInit.columnControl,l=q.defaults,O(d=[],c),q.defaults.content&&O(d,l),a.columns().every(function(t){for(var e=this.init().columnControl,n=O(d.slice(),e),o=0;o<n.length;o++){var r=k(n[o],e),i=k(n[o],c),s=k(n[o],l);(s||i||r)&&new q(a,this.index(),Object.assign({},s||{},i||{},r||{}))}}))}),y.Api.registerPlural("columns().ccSearchClear()","column().ccSearchClear()",function(){var n=this;return this.iterator("column",function(t,e){n.trigger("cc-search-clear",[e])})}),y.ext.buttons.ccSearchClear={text:function(t){return t.i18n("columnControl.buttons.searchClear","Clear search")},init:function(n,t,e){var o=this;n.on("draw",function(){var t=!1,e=!!n.search();e||n.columns().every(function(){(this.search.fixed("dtcc")||this.search.fixed("dtcc-list"))&&(t=!0)}),o.enable(e||t)}),this.enable(!1)},action:function(t,e,n,o){e.search(""),e.columns().ccSearchClear(),e.draw()}},y});